[package]
name = "alternate-tonic-client"
version = "0.1.0"
edition = "2024"
rust-version = "1.85.0"

[dependencies]
http = "1.4.0"
tower = { version = "0.5.2", features = ["util"] }
hyper = "1.8.1"
hyper-util = { version = "0.1.19", optional = true }
tonic = { version = "0.14.2", default-features = false }

tokio = { version = "1.48.0", optional = true, features = ["net"] }

[dev-dependencies]
prost = "0.14.1"
tonic-prost = "0.14.2"
tokio = { version = "1.48.0", features = ["macros"] }

[features]
default = [
    "unix-transport",
    "custom-transport",
    "singleton-channel",

    "pooled-channel",
]
_transport = []
unix-transport = ["_transport", "dep:tokio", "hyper-util/tokio"]
custom-transport = ["_transport", "hyper-util/tokio"]
_channel = []
singleton-channel = [
    "_channel",
    "tower/reconnect",
    "tower/buffer",
    "hyper/client",
    "hyper/http2",
    "hyper-util/tokio",
    "tokio/rt",
]
pooled-channel = [
    "_channel",
    "hyper-util/client",
    "hyper-util/client-legacy",
    "hyper-util/http2",
    "hyper-util/tokio",
]
